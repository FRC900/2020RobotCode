# 2020 Robot Code [![Build Status](https://travis-ci.com/FRC900/2020RobotCode.svg?token=T6hJWxFcNyyzxifXQqW5&branch=master)](https://travis-ci.com/FRC900/2020RobotCode)

2020 Robot Code

Package list 
as726x\_controllers - ROS controller for as726x color sensor
as726x\_interface - state and command interfaces for as726x color sensor
as726x\_msgs - custom messages for as726x color sensor
base\_trajectory - code to generate splie-based paths for the drive base to follow
base\_trajectory\_msgs - custom messages used by base\_trajectory
behavior\_actions - action definitions for the behavior package
behaviors - actionlib servers and clients for the robot
cancoder\_controller - ROS controller for CTRE cancoder
canifier\_controller - ROS controller for CTRE canifier
canifier\_controller\_msgs - custom messages for canifier\_controller package
cmake\_modules - Scripts to set build options for the code
color\_spin - compute optimal spin distance and direction for each color transition on the color wheel
controller\_node - holds top-level launch and config files for the robots
controllers\_2019 - ROS controllers for 2019 robot mechanisms
controllers\_2019\_msgs - custom messages used by controllers\_2019
controllers\_2020 - ROS controllers for 2020 robot mechanisms
controllers\_2020\_msgs - custom messages used by controllers\_2020
control\_toolbox - submodule - ROS package that needs to be built locally to pick up changes to realtime\_tools package
cpu\_monitor - submodule - package which logs CPU use of other nodes
ddynamic\_reconfigure - submodule - wrapper code to simplify using ROS dynamic reconfigure
demo\_tf\_node - example code for using ROS tf transforms between various reference frames
dynamic\_reconfigure\_wrapper - wrapper code to simplify using ROS dynamic reconfigure - obsolete, use ddynamic\_reconfigure instead for new code
field\_obj - Code to identify characteristics of objects on the field
field\_obj\_tracker - custom messages for field\_obj package
frc\_interfaces - state and command interfaces for FRC-specific data - match data, PCM, PDP, etc
frc\_msgs - message used by frc\_state\_contrllers package
frcrobot\_description - URDF definitions for swerve robots
frc\_state\_controllers - ROS controllers to publish state for various FRC-specific hardware
goal\_detection - node to detect retro-reflective tape
imu\_zero - node which applies an offset to imu messages to allow for zeroing field-centric driving
navx\_publisher - submodule - ROS node for navX imu
path\_follower - node which follows paths generated by base\_trajectory
path\_follower\_msgs - custom messages for path\_follower node
pf\_localization - Particle filter localization node
pid - submodule - our fork of the ROS PID node, adds feed-forward
realsense - submodule - ROS nodes for Intel Realsense cameras
realtime\_tools - submodule - fork of ROS realtime tools, fixed to allow non-polling implementation of realtime\_publisher
robot\_characterization - nodes to generate data for the WPIlib robot characterization package
robot\_visualizer - package which monitors talon state and uses it to plot robot position
rosbag\_scripts - scripts to search for events in ros bag files
ros\_control\_boilerplate - Home of the hardware and simulation interfaces
ros\_controllers - submodule - ROS package that needs to be built locally to pick up changes to realtime\_tools package
rospy\_message\_converter
rqt\_driver\_station\_sim - simulated driver station for simulation interface
spline\_util - helper code to generate and use splines
stage\_ros - submodule - stage simulator for ROS, provides basic 2d graphical sim of robot and sensors
state\_handle - helper code for defining ROS state and command interfaces and handles
state\_listener - ROS controller used to pass joint data between hardware interfaces
static\_controller - ROS controller which publishes a constant value when loaded - used to indicate that all other controllers have been started and the robot is ready to enable
talon\_controllers - ROS controllers for CTRE motor controllers and other CAN hardare
talon\_interface - state and command interfaces for CTRE hardware
talon\_state\_controller - ROS controllers which publish CTRE hardware state
talon\_state\_msgs - custom messages used by talon\_state\_controllers
talon\_swerve\_drive\_controller - Drive base controller for swerve drive using CTRE motor controllers
teleop\_joystick\_control - convert joystic data into robot actions
template\_controller - example controller code
teraranger - submodule - code for teraranger distance sensors
teraranger\_array - submodule - code for teraranger distance sensors
teraranger\_array\_converter - submodule - code for teraranger distance sensors
teraranger\_description - submodule - code for teraranger distance sensors
tf\_object\_detection - Code for neural-net based object detection
uptime - publish uptime info, used to monitor for CPU resets
visualize\_profile - script to visualize motion profile
zed-ros-wrapper - submodule - fork of ROS node for Stereolabs ZED camera
zms\_writer - code to write RGB+D image info into a custom file format

-----
2019 Offseason Changelog
Offseason dev sandbox for 2019 fall offseason

Notable updates since the 2019 comp season release


- improments to auto-align hatch panel pickup and placement
- add feed-forward to ROS' default PID node
- add a node to publish system uptime
- add a node to zero IMU data (for aligning field-centric swerve)
- optimization to reduce frequency of various HAL calls on the Rio
- add code to sim driver station to set limit switches and line break sensors in simulator
- add code to base trajectory node to auto-generate and optimize spline-based paths
- fixed swerve base odometry calculations
- log Talon / Victor firmware verions
- switch hardware interface time functions to std C++ - prep for running on Windows
- script to make sure USB-attached CAN device is actually attached (can\_up.sh)
- Experimental / hacked up branch to use ROS PinholeCameraModel for screen to world coord conversions
- Updates for 2020 beta wpilib & Rio image
- clean up lots of unused packages and configs
- vim doesn't flash the screen on errors!
